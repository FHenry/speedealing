<form data-ng-init='init()' data-ng-submit='create()' class="no-margin-bottom block margin-bottom wizard same-height wizard-enabled" style="width: 800px;margin: 0 auto;">

	<!-- Block style is optional, you can use any layout -->
	<h3 class="block-title">{{t 'users:NewAbsence'}}</h3>

	<fieldset class="wizard-fieldset fields-list active">

		<div class="field-block">
			<p>Bienvenue sur l'interface de saisie des dates de congés et des absences.</p>
		</div>

		<div class="field-block button-height">
			<label for="name"><b>{{t 'users:Employee'}}</b></label>
			<input required type="text" data-ng-model="absence.user" typeahead="user as user.name for user in userAutoComplete($viewValue, 'name') | filter:{name:$viewValue}" id="name" class="form-control" autocomplete="off">
		</div>

		<div class="field-block button-height">
			<label for="dateStart"><b>Date de début</b></label>
			<div class="row">
				<div class="col-md-6" style="margin-top: 34px;">
					<p class="input-group">
						<input type="text" class="form-control" datepicker-popup="dd/MM/yyyy" ng-model="absence.dateStart" is-open="opened[0]" datepicker-options="dateOptions" ng-required="true" close-text="Fermer" />
						<span class="input-group-btn">
							<button type="button" class="btn btn-default" ng-click="open($event, 0)"><i class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</p>
				</div>
				<div class="col-md-6">
					<timepicker ng-model="absence.dateStart" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
				</div>
			</div>
			<small class='input-info'>Date du 1er jour du congés. ex 8/03/2014 8h00</small>
		</div>

		<div class="field-block button-height">
			<label for="dateEnd"><b>Date de fin</b></label>
			<div class="row">
				<div class="col-md-6" style="margin-top: 34px;">
					<p class="input-group">
						<input type="text" class="form-control" datepicker-popup="dd/MM/yyyy" ng-model="absence.dateEnd" is-open="opened[1]" datepicker-options="dateOptions" ng-required="true" close-text="Fermer" />
						<span class="input-group-btn">
							<button type="button" class="btn btn-default" ng-click="open($event, 1)"><i class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</p>
				</div>
				<div class="col-md-6">
					<timepicker ng-model="absence.dateEnd" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
				</div>
			</div>
			<small class='input-info'>Date du dernier jour du congés. ex 18/03/2014 18h00</small>
		</div>

		<div class="field-block button-height">
			<label for="nbDay"><b>Nombre de jours</b></label>
			<div class="row">
				<div class="col-md-4">
					<input type='number' min='0' step='0.1' class="form-control" id="nbDay" data-ng-model="absence.nbDay" />
				</div>
			</div>
		</div>

		<div class="field-block button-height">
			<label for="status"><b>Type</b></label>
			<div class="row">
				<div class="col-md-6">
					<select class="form-control" id="status" data-ng-model="absence.Status" data-ng-options="c.id as c.label for c in status.values"></select>
				</div>
			</div>
		</div>

		<div class="field-block button-height">
			<label for="closed"><b>Clos</b></label>
			<input type="checkbox" id="closed" data-ng-model="absence.closed" data-ng-checked="absence.closed"/>
		</div>

		<div class="field-block button-height wizard-controls align-right">
			<button type="submit" data-ng-disabled='!(absence.nbDay > 0 && absence.user && absence.user.id && absence.dateStart && absence.dateEnd && absence.Status)' class="button glossy mid-margin-right">
				<span class="button-icon"><span class="icon-tick"></span></span>
				{{t 'Add'}}
			</button>
		</div>

	</fieldset>
</form>